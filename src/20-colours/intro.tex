Zamknęliśmy już pierwszy rozdział,
Wciąż nie pokazaliśmy jednak pełnego dowodu, że dwa konkretne węzły (na przykład niewęzeł i~trójlistnik) są od siebie różne.
Dlatego teraz podamy proste narzędzie odróżniające węzły: \emph{trójkolorowalność}, która przypisuje włóknom diagramu różne kolory.
Następnie rozszerzymy paletę do dowolnie wielu kolorów i~zastąpimy ją grupą skończoną.
Nawet wzmocniony wariant nie jest idealnym narzędziem klasyfikującym.
Istnieją węzły, których nie odróżnia.
Problem ten dotyka wielu późniejszych niezmienników, pierwszy niezmiennik zupełny poznamy dopiero w~rozdziale czwartym.
Nie stanowi to wielkiego powodu do radości ze względu na trudności w~jego wyznaczaniu.

\section{Kolorowanie splotów} % (fold)
\label{sec:colour_links}
Oto mniej mętny opis trójkolorowalności, czyli jak nietrudno się domyślić, kolorowalności trzema kolorami.
Diagram $D$ splotu $K$ jest trójkolorowalny, jeśli każdemu włóknu można przypisać jeden z~trzech kolorów tak, by co najmniej dwa zostały użyte.
Wymagamy przy tym, by przy żadnym skrzyżowaniu nie spotykały się dokładnie dwa kolory.

Dla własnej wygody jako kolorów używać będziemy kolejnych liczb naturalnych $0, 1, 2, \ldots$.
Pozwala to zapisać warunek kolorowalności równaniem algebraicznym.

\begin{definition}[kolorowanie] \label{def:colour_equation}
    Niech $L$ będzie splotem, zaś $n$ liczbą naturalną.
    Mówimy, że splot $L$ jest kolorowalny modulo $n$, jeśli posiada diagram, którego włóknom można przypisać liczby całkowite $0, \ldots, n - 1$ tak, by
    \begin{enumerate}[leftmargin=*]
        \item istniały dwa włókna różnych kolorów,
        \item równanie $a + b \equiv 2c$ modulo $n$ było spełnione przy każdym skrzyżowaniu:
    \end{enumerate}
    \[
        \begin{tikzpicture}[baseline=-0.65ex, scale=0.12]
            \useasboundingbox (-5, -5) rectangle (5,5);
            \begin{knot}[clip width=5, end tolerance=1pt, flip crossing/.list={1}]
                \strand[semithick] (-5,5) to (5,-5);
                \strand[semithick] (-5,-5) to (5,5);
                \node[darkblue] at (5, 5)[below right] {$c$};
                \node[darkblue] at (5, -5)[above right] {$b$};
                \node[darkblue] at (-5, 5)[below left] {$a$};
            \end{knot}
        \end{tikzpicture}.
    \]
    Takie przyporządkowanie nazywamy (nietrywialnym) kolorowaniem.
\end{definition}

Metoda ta została odkryta razem z~uogólnieniem do $n$ kolorów przez Ralpha Foxa w~1956, kiedy próbował uczynić teorię węzłów bardziej przystępną dla studentów.
Opierając się tylko na definicji kolorowania oraz ruchach Reidemeistera możemy wykazać pierwsze własności kolorowań.

\begin{proposition} \label{color_invariant}
    ,,Bycie $n$-kolorowalnym'' jest niezmiennikiem węzłów.
\end{proposition}

\begin{proof}
    Wystarczy sprawdzić, jak ruchy Reidemeistera zmieniają kolory.
    Pierwszy i~drugi:
    \[
        \fbox{
        \begin{tikzpicture}[baseline=-0.65ex,scale=0.07]
        \begin{knot}[clip width=5]
            \strand[semithick] (-10,10) .. controls (-10,2) and (-10,2) .. (-6,-2);
            \strand[semithick] (-10,-10) .. controls (-10,-2) and (-10,-1) .. (-9,0);

            \strand[semithick] (-7,1) -- (-6,2);
            \strand[semithick] (-6,2) .. controls (2,9) and (2,-9) .. (-6,-2);
            \node[darkblue] at (-10, 10)[below left] {$a$};
            \node[darkblue] at (-10, -10)[above left] {$b \equiv a$};
        \end{knot}
        \end{tikzpicture}
        $\stackrel{R_1}{\cong} \,\,$
        \begin{tikzpicture}[baseline=-0.65ex,scale=0.07]
        \begin{knot}[clip width=5]
            \strand[semithick] (0,10) -- (0,-10);
            \node[darkblue] at (0, 0)[left] {$a$};
        \end{knot}
        \end{tikzpicture}}
        %%%
        \quad \fbox{
        \begin{tikzpicture}[baseline=-0.65ex,scale=0.07]
        \begin{knot}[clip width=5]
            \strand[semithick] (4,-10) .. controls (4,-4) and (-4,-4) .. (-4,0);
            \node[darkblue] at (-4, -10)[above left] {$d \equiv b$};
            \strand[semithick] (4,10) .. controls (4, 4) and (-4, 4) .. (-4,0);
            \node[darkblue] at (4, 10)[below right] {$a$};
            \strand[semithick] (-4,-10) .. controls (-4,-4) and (4,-4) .. (4,0);
            \node[darkblue] at (4, 0) [right] {$c \equiv 2a-b$};
            \strand[semithick] (-4, 10) .. controls (-4, 4) and (4,4) .. (4,0);
            \node[darkblue] at (-4, 10) [below left] {$b$};
        \end{knot}
        \end{tikzpicture}
        $\stackrel{R_2}{\cong} \,\,$
        \begin{tikzpicture}[baseline=-0.65ex,scale=0.07]
        \begin{knot}[clip width=5]
            \strand[semithick] (4,-10) .. controls (4,-4) and (1,-4) .. (1,0);
            \strand[semithick] (4,10) .. controls (4, 4) and (1, 4) .. (1,0);
            \strand[semithick] (-4,-10) .. controls (-4,-4) and (-1,-4) .. (-1,0);
            \strand[semithick] (-4,10) .. controls (-4, 4) and (-1,4) .. (-1,0);
        \end{knot}
        \end{tikzpicture}}
    \]
    Trzeci ruch także nie wymaga skomplikowanych rachunków.
    Najkrótszy łuk na diagramach ma kolor $2a-c$ po lewej oraz $2b-c$ po prawej stronie.
    \[
     \fbox{
        \begin{tikzpicture}[baseline=-0.65ex,scale=0.07]
        \begin{knot}[clip width=5, flip crossing/.list={1,2,3}]
            \node[darkblue] at (-10, 10) [above] {$b$};
            \node[darkblue] at (10, 10) [above] {$c$};
            \node[darkblue] at (-10, -10) [below] {$2a-2b+c$};
            \node[darkblue] at (10, -10) [below] {$2a-b$};
            \node[darkblue] at (-10, -2) [left] {$a$};
            \strand[semithick] (-10,-10) -- (10,10);
            \strand[semithick] (-10,10) -- (10,-10);
            \strand[semithick] (-10,-2) .. controls (-4, -2) and (-4,8) .. (0,8);
            \strand[semithick] (10,-2) .. controls (4, -2) and (4,8) .. (0,8);
        \end{knot}
        \end{tikzpicture}
        $\stackrel{R_3}{\cong} \,\,$
        \begin{tikzpicture}[baseline=-0.65ex,scale=0.07]
        \begin{knot}[clip width=5, flip crossing/.list={1,2,3}]
            \node[darkblue] at (-10, 10) [above] {$b$};
            \node[darkblue] at (10, 10) [above] {$c$};
            \node[darkblue] at (-10, -10) [below] {$2a-2b+c$};
            \node[darkblue] at (10, -10) [below] {$2a-b$};
            \node[darkblue] at (10, 2) [right] {$a$};
            \strand[semithick] (-10,-10) -- (10,10);
            \strand[semithick] (-10,10) -- (10,-10);
            \strand[semithick] (-10,2) .. controls (-4, 2) and (-4,-8) .. (0,-8);
            \strand[semithick] (10,2) .. controls (4, 2) and (4,-8) .. (0,-8);
        \end{knot}
        \end{tikzpicture}} \qedhere
    \]
\end{proof}

Trójlistnik koloruje się dokładnie modulo krotności trójki, ósemka zaś -- piątki.
Sama kolorowalność nie mówi wiele, splot jest kolorowalny lub nie.
Dowód faktu \ref{color_invariant} pokazuje coś więcej: liczba kolorowań, być może trywialnych, jest mocniejszym niezmiennikiem.
Liczbę kolorowań splotu $L$ modulo $n$, trywialnych lub nie, oznaczamy przez $\tau_n(L)$.

\begin{lemma}
    \label{lem:colouring_arc}
    Niech $D$ będzie diagramem z definicji \ref{def:colour_equation} z wybranym łukiem, zaś $k \in \{0, \ldots, n - 1\}$ pewnym kolorem.
    Bez straty ogólności możemy założyć, że krótki łuk jest koloru $k$.
\end{lemma}

Kolorem tym zazwyczaj jest $0$.

\begin{proof}
    Dodanie tej samej wartości do wszystkich łuków na dobrze pokolorowanym diagramie daje nowy, także dobrze pokolorowany diagram.
\end{proof}

\begin{proposition}
    \label{no_knots_colours_mod_two}
    Żaden węzeł nie koloruje się modulo dwa.
\end{proposition}

\begin{proof}
    Załóżmy nie wprost, że istnieje nietrywialne kolorowanie.
    Analiza czterech możliwych skrzyżowań pokazuje, że włókna wychodzące z~tunelu muszą mieć ten sam kolor.
    Przechodząc wzdłuż węzła widzimy jeden kolor, wbrew założeniu nie wprost.
\end{proof}

\begin{proposition}
    Każdy splot o co najmniej dwóch ogniwach koloruje się modula dwa.
\end{proposition}

\begin{proof}
    Wystarczy pomalować jedną składową zerem, a~pozostałe jedynkami.
\end{proof}

Sploty rozszczepialne są $n$-kolorowalne dla każdego $n \ge 2$, można skorzystać z~tego samego schematu kolorowania.
Pierścienie Boromeuszy nie kolorują się modulo trzy, nie są zatem rozszczepialne.
Sploty, które nie są kolorowalne modulo $n$ dla każdej liczby $n \in \N$ nazywa się czasem niewidzialnymi, dwa węzły do dziesięciu skrzyżowań mają tę własność: $10_{124}$ oraz $10_{153}$.

Pokażemy teraz, że suma równań kolorujących z dobrze wybranymi znakami jest postaci $0 \equiv 0 \mod n$.
Będziemy potrzebować kilku pomocniczych definicji.
Każdy diagram węzła rozcina płaszczyznę na obszary, z~czego jeden jest nieograniczony.

\begin{definition}[uszachowienie]
    Przyporządkowanie każdemu z~obszarów, na jakie diagram rozcina płaszczyznę, jednego z~dwóch kolorów tak, by sąsiadujące ze sobą obszary były różnych kolorów, nazywamy uszachowieniem.
\end{definition}

Ustalmy węzeł $K$ oraz dowolne uszachowienie dla jego diagramu.
Skojarzmy z~każdym skrzyżowaniem równanie kolorujące, zgodnie z~poniższym schematem:
\[\begin{tikzpicture}[baseline=-0.65ex, scale=0.12]
    \useasboundingbox (-5, -10) rectangle (5,5);
    \begin{knot}[clip width=5, end tolerance=1pt, flip crossing/.list={1}]
        \strand[semithick] (-5,5) to (5,-5);
        \strand[semithick] (-5,-5) to (5,5);
        \fill[blue!20!white] (-4, 5) to (0, 1) to (4, 5);
        \fill[blue!20!white] (-4, -5) to (0, -1) to (4, -5);
        \node[darkblue] at (-5, -5)[left] {$a$};
        \node[darkblue] at (-5, +5)[left] {$b$};
        \node[darkblue] at (+5, -5)[right] {$c$};
        \node[darkblue] at (+5, +5)[right] {$a$};
        \node[darkblue] at (0, -10) {$+a-b+a-c=0 \mod n$};
    \end{knot}
    \end{tikzpicture}
    \quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad
    \begin{tikzpicture}[baseline=-0.65ex, scale=0.12]
    \useasboundingbox (-5, -10) rectangle (5,5);
    \begin{knot}[clip width=5, end tolerance=1pt, flip crossing/.list={1}]
        \strand[semithick] (-5,5) to (5,-5);
        \strand[semithick] (-5,-5) to (5,5);
        \fill[blue!20!white] (5, -4) to (1, 0) to (5, 4);
        \fill[blue!20!white] (-5, -4) to (-1, 0) to (-5, 4);
        \node[darkblue] at (-5, -5)[left] {$a$};
        \node[darkblue] at (-5, +5)[left] {$b$};
        \node[darkblue] at (+5, -5)[right] {$c$};
        \node[darkblue] at (+5, +5)[right] {$a$};
        \node[darkblue] at (0, -10) {$-a+b-a+c=0 \mod n$};
    \end{knot}
    \end{tikzpicture}
\]

\begin{proposition}
    \label{prp:colouring_sum_zero}
    Sumą równań kolorujących o dobrze wybranych znakach jest $0 \equiv 0 \mod n$.
\end{proposition}

Będziemy potrzebować tego do pokazania, że wyznacznik determinuje kolorowalność splotu.

\begin{proof}
    Każde równanie kolorujące składa się z~czterech wyrazów, po jednym od każdej nici, która spotyka się w~danym skrzyżowaniu.
    Nić biegnie między dwoma skrzyżowaniami, więc suma wszystkich równań kolorujących składa się z~par składników, po jednej parze na nić.
    Składniki te są przeciwnych znaków, zatem wzajemnie się znoszą.
    Suma równań kolorujących jest sumą zer, a~to należało udowodnić.
\end{proof}

\begin{proposition}
    Jeśli $K, L$ są węzłami, to $3\tau_3(K \shrap L) = \tau_3(K)\tau_3(L)$.
\end{proposition}

\begin{corollary}
    Istnieje nieskończenie wiele węzłów.
\end{corollary}

\begin{proof}
    Suma spójna $n$ trójlistników ma $3^n$ (być może trywialnych) $3$-kolorowań.
\end{proof}

Jako kolorów użyjemy teraz elementów $g_1, \ldots, g_n$ pewnej skończonej grupy $G$.

\begin{definition}[etykietowanie]
    Mówimy, że zorientowany węzeł $K$ jest etykietowalny grupą $G$ generowaną przez elementy $g_1, \ldots, g_n$, jeśli posiada diagram, którego włóknom przypisano elementy $g_1, \ldots, g_n$ tak, by równanie $gk=hg$ było spełnione przy każdym skrzyżowaniu ($g$: włókno biegnące górą, $k$: bo jego lewej stronie, $h$: po prawej).
    \[
        \begin{tikzpicture}[baseline=-0.65ex, scale=0.12]
            \useasboundingbox (-5, -5) rectangle (5,5);
            \begin{knot}[clip width=5, end tolerance=1pt, flip crossing/.list={1}]
                \strand[semithick] (-5,5) to (5,-5);
                \strand[semithick, -Latex] (-5,-5) to (5,5);
                \node[darkblue] at (5, 5)[below right] {$g$};
                \node[darkblue] at (5, -5)[above right] {$h$};
                \node[darkblue] at (-5, 5)[below left] {$k$};
            \end{knot}
        \end{tikzpicture}
    \]
\end{definition}

Równanie $gkg^{-1}=h$ mówi, że etykiety włókien wchodzących oraz wychodzących są sprzężone.
Wynika stąd, że wszystkie etykiety pochodzą z~jednej klasy sprzężoności.
Muszą jednocześnie generować całą grupę, dlatego $G$ musi być grupą nieprzemienną lub trywialną.
Etykietowalność jest niezmiennikiem węzłów i~nie zależy od orientacji węzła:
jeżeli elementy $g_1, \ldots, g_n$ generują grupę, to ich odwrotności także.

Rozpatrzmy węzły $6_1$ oraz $9_{46}$ i~spróbujmy etykietować je transpozycjami z~grupy $S_4$.
Wybranie dwóch etykiet przy jednym skrzyżowaniu $6_1$ wymusza etykiety dla wszystkich włókien.
Dwie transpozycje nie mogą generować grupy $S_4$, natomiast włókna węzła $9_{46}$ dają się etykietować samymi transpozycjami.
Węzły te są więc różne, choć mają te same własności kolorujące.

Etykietowanie jest mocnym narzędziem odróżniającym węzły.
Thistlethwaite w 1985 roku korzystając z niego klasyfikował węzły o~co najwyżej 13 skrzyżowaniach (jest ich, jak ostatecznie się okazało, 12965).
Mają one tylko 5639 różnych wielomianów Alexandera, ale etykietowania trzynastoma różnymi grupami pozwoliły zmniejszyć liczbę nierozpoznanych węzłów do około tysiąca.
Wśród nich 30 posiada wielomian Conwaya $1 + 2z^2 + 2z^4$, ale pary rozróżniane wielomianem HOMFLY mają też różne wielomiany Jonesa.
Wielomiany opisujemy w~rozdziale trzecim.

Niech $p \ge 3$ będzie liczbą pierwszą, natomiast $D_p = \langle r, s \mid r^p = s^2 = e, rsr = s \rangle$ grupą diedralną rzędu $2p$.
Elementy tej grupy to $1, r, r^2, \ldots, r^{p-1}, s, sr, \ldots, sr^{p-1}$.
,,Obrót'' $r^k$ jest sprzężony tylko ze swoją odwrotnością, ale ,,symetrie osiowe'' $sr^k$ tworzą jedną klasę sprzężoności.
Łatwo widać, że dowolne dwie z~nich generują całą grupę $D_p$.

\begin{proposition}
    Węzeł $K$ jest $p$-kolorowalny wtedy i~tylko wtedy, gdy jest $D_p$-etykietowalny.
\end{proposition}

\begin{proof}
    Załóżmy, że $K$ ma $n$ włókien.
    Wiemy już, że każde $D_p$-etykietowanie wykorzystuje tylko elementy $sr^{a_1}, \ldots, sr^{a_n}$ dla $1 \le a_i \le p$.
    Jest ono prawidłowe dokładnie wtedy, gdy analogiczne kolorowanie liczbami $a_1, \ldots, a_n$ jest prawidłowe.
\end{proof}

Kolorowania definiowano kiedyś jako surjekcje $\rho \colon \pi \to D_{2n}$ z~grupy podstawowej.
Jak mówi prezentacja Wirtingera, grupa splotu generowana jest przez ścieżki z~punktu bazowego w~$S^3$ do brzegu rurowego otoczenia splotu, wokół południka i~znowu do bazowego punktu.
Fox zauważył, że z~surjektywności $\rho$ wynika, iż generatory mapują się na symetrie osiowe $sr^k$.
Ponieważ istnieje wzajemnie jednoznaczna odpowiedniość między generatorami grupy splotu oraz łukami diagramu, każdemu możemy przypisać liczbę całkowitą $k$.
Etykietowania są więc uogólnieniem kolorowań.
Rozumowanie, które przedstawiliśmy, prowadzi do prostej klasyfikacji grup, których można użyć do etykietowania.

\begin{proposition}
    Niech $K$ będzie węzłem, $\pi$ grupą podstawową jego dopełnienia, zaś $G$ dowolną grupą.
    Następujące warunki są równoważne: $K$ jest $G$-etykietowalny; istnieje surjekcja $\pi_1 \to G$.
\end{proposition}

Historycznie, prezentacja Wirtingera była pierwsza, zaś etykietowania odkryto później.

\begin{proposition}[Perko]
    Niech $K$ będzie węzłem etykietowalnym grupą $S_3$.
    Wtedy $K$ jest też etykietowalny grupą $S_4$.
\end{proposition}

Nie znam innych nietrywialnych faktów dotyczących etykietowań.

% Koniec sekcji Kolorowanie splotów
